<!DOCTYPE html><html><head><meta charset="utf-8"><meta name="viewport" content="width=device-width, initial-scale=1"><meta name="description" content="portfolio and blog of myles borins"><meta name="author" content="Myles Borins"><link rel="icon" type="image/png" href="/images/favicon.ico"><link href="/styles/main.css" rel="stylesheet"><title>Getting your node.js app in the cloud with bluemix in 5 minutes</title><meta name="description" content="it aint so hard after all"></head><body><div id="header"><div id="header-accent"><div class="big-guy light-grey"></div><div class="medium-guy dark-grey"></div><div class="tiny-guy almost-black"></div></div></div><nav class="social-links group small" id="sticky-social"><ul class="nav-links-social"><li class="text-link"><a class="icon-twitter2" href="https://www.twitter.com/MylesBorins"></a></li><li class="text-link"><a class="icon-github3" href="https://www.github.com/MylesBorins"></a></li><li class="text-link"><a class="icon-soundcloud" href="https://www.soundcloud.com/rowbit"></a></li><li class="text-link"><a class="icon-linkedin" href="https://www.linkedin.com/in/MylesBorins"></a></li><li class="text-link"><a class="icon-vimeo2" href="https://vimeo.com/MylesBorins"></a></li><li class="text-link"><a class="icon-envelope" href="mailto:myles.borins@gmail.com"></a></li></ul></nav><div class="meta-white"><div class="center shift-up-body"> <div class="post-head group"><a href="/blog/getting-your-node-js-app-in-the-cloud-with-bluemix-in-5-minutes/"><h1 class="post-title">Getting your node.js app in the cloud with bluemix in 5 minutes</h1></a><div class="post-date">Published 12/1/2015</div></div><div class="post-body markdown"><hr class="top-four"><h4>TLDR</h4><hr class="bottom-four"><p>pre-requirements:</p>
<ul>
<li><a href="https://console.ng.bluemix.net/registration/">sign up for bluemix</a></li>
<li>know some git</li>
<li>have a node project ready to go</li>
</ul>
<p>First thing first you will need to cloud foundary CLI. Here are basic instructions to get started with OSX + homebrew.</p>
<pre><code class="language-bash"><div class="highlight"><pre><span class="nv">$ </span>brew tap pivotal/tap <span class="c"># tap it</span>
<span class="nv">$ </span>brew install cloudfoundry-cli <span class="c"># install it</span>
<span class="nv">$ </span>cf api https://api.ng.bluemix.net <span class="c"># setup bluemix api(for NA)</span>
<span class="nv">$ </span>cf login <span class="c"># login to bluemix</span>
</pre></div>
</code></pre>
<p>Add a basic <code>manifest.yml</code> to the root of your project</p>
<pre><code class="language-yaml"><div class="highlight"><pre><span class="nn">---</span>
<span class="l-Scalar-Plain">applications</span><span class="p-Indicator">:</span>
<span class="p-Indicator">-</span> <span class="l-Scalar-Plain">name</span><span class="p-Indicator">:</span> <span class="l-Scalar-Plain">name-of-your-app</span>
  <span class="l-Scalar-Plain">command</span><span class="p-Indicator">:</span> <span class="l-Scalar-Plain">npm start</span>
  <span class="l-Scalar-Plain">path</span><span class="p-Indicator">:</span> <span class="l-Scalar-Plain">.</span>
</pre></div>
</code></pre>
<p>Add a basic <code>.cfignore</code> to the root of your project</p>
<pre><code><div class="highlight"><pre><span class="nx">node_modules</span>
<span class="nx">dist</span>
</pre></div>
</code></pre>
<p>Make sure that you reference the environemnt port when starting your server (below example is with express)</p>
<pre><code class="language-js"><div class="highlight"><pre><span class="nx">server</span><span class="p">.</span><span class="nx">listen</span><span class="p">(</span><span class="nx">process</span><span class="p">.</span><span class="nx">env</span><span class="p">.</span><span class="nx">PORT</span> <span class="o">||</span> <span class="mi">3000</span><span class="p">,</span> <span class="kd">function</span> <span class="p">()</span> <span class="p">{</span>
  <span class="kd">var</span> <span class="nx">host</span> <span class="o">=</span> <span class="nx">server</span><span class="p">.</span><span class="nx">address</span><span class="p">().</span><span class="nx">address</span><span class="p">;</span>
  <span class="kd">var</span> <span class="nx">port</span> <span class="o">=</span> <span class="nx">server</span><span class="p">.</span><span class="nx">address</span><span class="p">().</span><span class="nx">port</span><span class="p">;</span>
  <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="s1">&#39;Example app listening at http://%s:%s&#39;</span><span class="p">,</span> <span class="nx">host</span><span class="p">,</span> <span class="nx">port</span><span class="p">);</span>
<span class="p">});</span>
</pre></div>
</code></pre>
<p>Deploy to the cloud</p>
<pre><code class="language-bash"><div class="highlight"><pre><span class="nv">$ </span>cf push
</pre></div>
</code></pre>
<p>Obviously this isn&#39;t anything super complicated, but this will get you up and running with an app in the cloud in a matter of minutes!</p>
</div></div></div><div id="footer"><div class="tiny-guy almost-black"></div><div class="medium-guy dark-grey"></div><div class="big-guy light-grey"></div><div class="center"><nav class="group"><h1 class="name"><a href="/">Myles Borins</a></h1><ul class="nav-links"><li class="text-link"><a href="/about.html">about</a></li><li class="text-link"><a href="/talks.html">talks</a></li><li class="text-link"><a href="/projects.html">projects</a></li><li class="text-link"><a href="/archives.html">archives</a></li></ul></nav></div></div><script src="/scripts/jquery.min.js"></script><script src="/scripts/sticky-kit.min.js"></script><script src="/scripts/main.js"></script><script>var _gaq = _gaq || [];
_gaq.push(['_setAccount', 'UA-46827582-1']);
_gaq.push(['_trackPageview']);

(function() {
  var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
  ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
  var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
})();</script></body></html>